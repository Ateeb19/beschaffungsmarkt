"use strict";(self.webpackChunkbeschaffungsmarkt=self.webpackChunkbeschaffungsmarkt||[]).push([[4642],{4642:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var s=a(9379),n=a(5043),r=a(8789),l=a(8877),i=a(6720),o=a(2639),c=a(7706),d=a(2021),p=a(5394),m=a(184),u=a(3003),x=a(9981),h=a(502),g=a(9722),f=a(423),b=a(579);const j=e=>{let{accept:t,onFileDrop:a,label:l,className:i}=e;const o=(0,n.useCallback)(e=>{e.length>0&&a(e)},[a]),{getRootProps:c,getInputProps:d}=(0,r.VB)({onDrop:o,accept:t,multiple:!0});return(0,b.jsxs)("div",(0,s.A)((0,s.A)({},c()),{},{className:"d-flex flex-column align-items-center justify-content-center text-center ".concat(i),children:[(0,b.jsx)("input",(0,s.A)({},d())),(0,b.jsx)("p",{children:l})]}))},y=()=>{const e=(0,x.Zp)(),[t,a]=(0,n.useState)(""),[s,r]=(0,n.useState)(""),{showAlert:y}=(0,c.M)(),N=(0,u.wA)(),v=(0,x.zy)(),{data:w,requestStatus:k,error:C}=(0,u.d4)(e=>e.user);(0,n.useEffect)(()=>{N((0,h.me)())},[N,v]);const[S,P]=(0,n.useState)("buy"),[T,F]=(0,n.useState)(""),[_,O]=(0,n.useState)(""),[A,D]=(0,n.useState)({}),[E,W]=(0,n.useState)(!1),[q,L]=(0,n.useState)([]),[R,Y]=(0,n.useState)([]),G={buy:{title:"I want to import poplin fabric",details:"We are a manufacturer of women's clothing in the Netherlands. We want to purchase poplin fabric to be used in production."},sell:{title:"We are sell organic cotton fabric",details:"Our company provides high-quality organic cotton fabric. We are looking for long-term buyers across Europe."},cooperation:{title:"Looking for business cooperation",details:"We are looking for partners to expand our textile business and co-develop sustainable clothing lines."},transportation:{title:"Need transportation service for fabric",details:"We are searching for reliable transportation partners to ship fabrics from Turkey to the Netherlands."}};(0,n.useEffect)(()=>{a(G[S].title),r(G[S].details)},[S]);const z=e=>{P(e)};return(0,b.jsx)("div",{className:"add-post-wrapper text-start",children:(0,b.jsxs)("div",{className:"",children:[(0,b.jsx)("h5",{className:"mb-4",children:"New Post"}),(0,b.jsx)("div",{className:"das-general-form",children:(0,b.jsxs)("form",{children:[(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsxs)("label",{className:"form-label",children:["Your Post Type ",(0,b.jsx)("span",{className:"text-danger",children:"*"})]}),(0,b.jsxs)("div",{className:"d-flex flex-wrap w-100 tab-container",children:[(0,b.jsxs)("label",{className:"post-tab ".concat("buy"===S?"active":""," flex-fill text-center shadow"),"data-type":"buy",onClick:()=>z("buy"),children:[(0,b.jsx)("input",{type:"radio",name:"postType",checked:"buy"===S,readOnly:!0}),(0,b.jsxs)("span",{children:[(0,b.jsx)(l.xdl,{})," Buying Post"]})]}),(0,b.jsxs)("label",{className:"post-tab ".concat("sell"===S?"active":""," flex-fill text-center shadow"),"data-type":"sell",onClick:()=>z("sell"),children:[(0,b.jsx)("input",{type:"radio",name:"postType",checked:"sell"===S,readOnly:!0}),(0,b.jsxs)("span",{children:[(0,b.jsx)(l.ujr,{})," Selling Offer"]})]}),(0,b.jsxs)("label",{className:"post-tab ".concat("cooperation"===S?"active":""," flex-fill text-center shadow"),"data-type":"cooperation",onClick:()=>z("cooperation"),children:[(0,b.jsx)("input",{type:"radio",name:"postType",checked:"cooperation"===S,readOnly:!0}),(0,b.jsxs)("span",{children:[(0,b.jsx)(o.GiLinkedRings,{})," Cooperation"]})]}),(0,b.jsxs)("label",{className:"post-tab ".concat("transportation"===S?"active":""," flex-fill text-center shadow"),"data-type":"transportation",onClick:()=>z("transportation"),children:[(0,b.jsx)("input",{type:"radio",name:"postType",checked:"transportation"===S,readOnly:!0}),(0,b.jsxs)("span",{children:[" ",(0,b.jsx)(i.YoO,{})," Transportation"]})]})]})]}),(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsxs)("label",{className:"form-label",children:["Title Of Your Post ",(0,b.jsx)("span",{className:"text-danger",children:"*"})]}),(0,b.jsx)("input",{type:"text",className:"form-control ".concat(A.Current_title?"general-country-border":""),name:"Current_title",id:"postTitle",placeholder:t,onChange:e=>F(e.target.value),value:T,required:!0}),A.Current_title&&(0,b.jsx)("small",{className:"text-danger",children:(0,b.jsx)("i",{children:A.Current_title})})]}),(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsxs)("label",{className:"form-label",children:["Details About Your Post ",(0,b.jsx)("span",{className:"text-danger",children:"*"})]}),(0,b.jsx)("textarea",{className:"form-control ".concat(A.Current_detail?"general-country-border":""),name:"Current_detail",rows:"4",id:"postDetails",placeholder:s,onChange:e=>O(e.target.value),value:_,required:!0}),A.Current_detail&&(0,b.jsx)("small",{className:"text-danger",children:(0,b.jsx)("i",{children:A.Current_detail})})]}),(0,b.jsxs)("div",{className:"d-flex flex-column align-items-start justify-content-start mt-3 w-100",children:[(0,b.jsx)("label",{for:"website",children:"Add File To Your Post"}),(0,b.jsxs)("div",{className:"d-flex align-items-start justify-content-start gap-3 w-100 mt-3 flex-wrap",children:[(0,b.jsx)(j,{accept:{"image/png":[],"image/jpeg":[],"image/jpg":[],"image/webp":[],"image/svg+xml":[],"application/pdf":[]},name:"banner",onFileDrop:e=>{W(!0);const t=[...q,...e];L(t);const a=e.map(e=>URL.createObjectURL(e));Y(e=>[...e,...a])},className:"image-div-das-image-upload-banner",label:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p.LEk,{className:"fs-2 mb-3"}),(0,b.jsxs)("p",{children:[(0,b.jsx)("b",{children:"Click to upload"})," or drag and drop"]}),(0,b.jsx)("p",{style:{fontSize:"12px"},children:"SVG, PNG, JPG, WEBP, MP4"})]})}),R.map((e,t)=>{const a=q[t];return(0,b.jsxs)("div",{className:"position-relative image-div-das-image-baner-outer-div",children:["application/pdf"===a.type?(0,b.jsx)("iframe",{src:e,className:"image-div-das-image-banner",title:"PDF Preview ".concat(t)}):(0,b.jsx)("img",{src:e,alt:"Selected ".concat(t),className:"image-div-das-image-banner"}),(0,b.jsx)(d.j55,{style:{cursor:"pointer",fontSize:"20px",position:"absolute",top:"5px",right:"5px",background:"white",borderRadius:"50%"},onClick:()=>(e=>{const t=q.filter((t,a)=>a!==e),a=R.filter((t,a)=>a!==e);L(t),Y(a)})(t)})]},t)})]})]}),(0,b.jsxs)("div",{className:"text-end mt-4",children:[(0,b.jsx)("button",{type:"submit",className:"save-button das-button-end me-1",onClick:async t=>{t.preventDefault();const a=new FormData;if(a.append("type",S),a.append("title",T),a.append("description",_),q&&q.length>0&&q.forEach(e=>{a.append("file",e)}),(()=>{const e={};return T.trim()||(e.Current_title="Title is required."),_.trim()||(e.Current_detail="Detail is required."),D(e),0===Object.keys(e).length})())if(0===w.is_premium)y((0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.FaExclamationTriangle,{className:"me-2 fs-2 text-warning"}),"Please upgrade your membership to add new post"]}),"warning");else try{const t=await g.A.post("".concat("https://api.beschaffungsmarkt.com","/api/posts/create"),a,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}});!0===t.data.status?(y((0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.bjk,{className:"me-2 fs-2 text-success"}),t.data.msg]}),"success"),e("/dashboard/post/my-posts")):y((0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.FaExclamationTriangle,{className:"me-2 fs-2 text-warning"}),t.data.msg||"Something went wrong"]}),"warning")}catch(r){var s,n;console.error(r);const e=null===(s=r.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.msg;y((0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.FaExclamationTriangle,{className:"me-2 fs-2 text-warning"}),e||"An unexpected error occurred while creating the post"]}),"warning")}},children:"Submit"}),(0,b.jsx)("button",{type:"reset",className:"cancel-button das-button-end ms-1",children:"Cancel"})]})]})})]})})}}}]);
//# sourceMappingURL=4642.da4a71e6.chunk.js.map