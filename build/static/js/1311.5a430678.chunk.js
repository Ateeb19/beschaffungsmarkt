(self.webpackChunkbeschaffungsmarkt=self.webpackChunkbeschaffungsmarkt||[]).push([[1311],{1497:(e,s,t)=>{"use strict";var n=t(3218);function a(){}function l(){}l.resetWarningCache=a,e.exports=function(){function e(e,s,t,a,l,c){if(c!==n){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function s(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:s,element:e,elementType:e,instanceOf:s,node:e,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:l,resetWarningCache:a};return t.PropTypes=t,t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3662:(e,s,t)=>{"use strict";function n(e,s){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,s){return e.__proto__=s,e},n(e,s)}t.d(s,{A:()=>n})},3891:(e,s,t)=>{"use strict";t.d(s,{A:()=>c});t(5043);var n=t(8155),a=t(1458),l=t(579);const c=e=>{let{show:s,message:t,onConfirm:c,onCancel:o}=e;return(0,l.jsxs)(a.A,{show:s,onHide:o,centered:!0,backdropClassName:"custom-backdrop",children:[(0,l.jsx)(a.A.Header,{closeButton:!0,children:(0,l.jsx)(a.A.Title,{children:"Confirmation"})}),(0,l.jsx)(a.A.Body,{children:t}),(0,l.jsxs)(a.A.Footer,{children:[(0,l.jsx)(n.A,{variant:"secondary",onClick:o,children:"Cancel"}),(0,l.jsx)(n.A,{variant:"danger",onClick:c,children:"Yes, Delete"})]})]})}},5173:(e,s,t)=>{e.exports=t(1497)()},7387:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var n=t(3662);function a(e,s){e.prototype=Object.create(s.prototype),e.prototype.constructor=e,(0,n.A)(e,s)}},8726:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});const n=t(5043).createContext(null)},9020:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var n=t(5043),a=t(3003),l=t(9981),c=t(502),o=t(9722),r=t(7706),i=t(3891),d=t(423),h=t(2021),p=t(579);const x=()=>{var e;const s="https://api.beschaffungsmarkt.com",{showAlert:t}=(0,r.M)(),x=(0,l.Zp)(),m=(0,a.wA)(),f=(0,l.zy)(),{data:j,requestStatus:u,error:b}=(0,a.d4)(e=>e.user);(0,n.useEffect)(()=>{m((0,c.me)())},[m,f]);const[g,y]=(0,n.useState)([]),w=async()=>{try{const e=await o.A.post("".concat(s,"/api/posts"),{},{withCredentials:!0});console.log(e.data),y(e.data.results)}catch(e){console.log(e)}};(0,n.useEffect)(()=>{w()},[j]);const[v,N]=(0,n.useState)(!1),[C,k]=(0,n.useState)(""),T=e=>{N(!0),k(e)},[A,O]=(0,n.useState)(""),_=async e=>{O(e)};return console.log(A),(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"d-flex flex-column align-items-start justify-content-start w-100",children:[(0,p.jsx)("div",{className:"d-flex flex-row align-items-between justify-content-between w-100",children:(0,p.jsx)("h5",{style:{fontWeight:"700"},children:"My Posts"})}),(0,p.jsxs)("div",{className:"d-none d-md-flex flex-column w-100 align-items-start justify-content-start text-start das-general-form mt-2",children:[(0,p.jsx)("h6",{children:"My Posts Table"}),(0,p.jsxs)("table",{class:"table",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{scope:"col fs-6",children:"NO"}),(0,p.jsx)("th",{scope:"col fs-6",children:"TYPE"}),(0,p.jsx)("th",{scope:"col fs-6",children:"TITLE"}),(0,p.jsx)("th",{scope:"col fs-6",children:"STATUS"}),(0,p.jsx)("th",{scope:"col fs-6",children:"ACTION"})]})}),(0,p.jsx)("tbody",{children:g.length>0&&(0,p.jsx)(p.Fragment,{children:g.map((e,s)=>(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{onClick:()=>_(e),children:s+1}),(0,p.jsx)("td",{onClick:()=>_(e),children:e.type}),(0,p.jsx)("td",{onClick:()=>_(e),children:e.title}),(0,p.jsx)("td",{children:(0,p.jsx)("span",{className:"post-live",children:"Live"})}),(0,p.jsx)("td",{children:(0,p.jsx)("button",{className:"btn post-delete",onClick:()=>T(e),children:"Delete"})})]},s))})})]}),A&&(0,p.jsx)("div",{className:"popup-overlay",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},children:(0,p.jsxs)("div",{className:"popup-box bg-white p-4 rounded shadow-lg position-relative",style:{width:"auto",minWidth:"10%",maxWidth:"66%",maxHeight:"90vh",overflowY:"auto"},children:[(0,p.jsx)("button",{onClick:()=>O(""),className:"btn  position-absolute",style:{top:"10px",right:"10px"},children:(0,p.jsx)(h.j55,{})}),(0,p.jsxs)("div",{className:"d-flex flex-column align-items-start justify-content-start",children:[(0,p.jsxs)("h5",{className:"mb-3",children:[A.title," ",(0,p.jsxs)("span",{children:["(",A.type,")"]})]}),(0,p.jsx)("p",{children:A.description}),(0,p.jsx)("div",{className:"d-flex flex-wrap gap-3 w-100 justify-content-start",children:(null===A||void 0===A||null===(e=A.file)||void 0===e?void 0:e.length)>0&&(0,p.jsx)("div",{className:"post_show_image ",children:A.file.map((e,t)=>(0,p.jsx)("div",{className:"image-box",children:(0,p.jsx)("img",{src:"".concat(s,"/files/").concat(e),alt:"Post Image ".concat(t+1),className:"w-100 h-100 object-fit-contain",onClick:()=>window.open("".concat(s,"/files/").concat(e),"_blank","noopener,noreferrer")})},t))})}),(0,p.jsx)("div",{className:"d-flex flex-row justify-content-end w-100 mt-3 gap-2",children:(0,p.jsx)("button",{className:"das-button-end cancel-button",onClick:()=>O(""),children:"Cancel"})})]})]})}),(0,p.jsx)(i.A,{show:v,message:"Are you sure you want to delete this product?",onConfirm:async()=>{try{const e=await o.A.post("".concat(s,"/api/posts/delete"),{postId:C._id},{withCredentials:!0});t((0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.bjk,{className:"me-2 fs-2 text-success"}),e.data.msg]}),"success"),x("/dashboard/post/my-posts"),w(),N(!1)}catch(e){console.log(e)}},onCancel:()=>{N(!1),k("")}})]}),(0,p.jsx)("div",{className:"d-flex d-md-none flex-column w-100 align-items-start justify-content-start text-start das-general-form mt-2",children:g.length>0&&(0,p.jsx)(p.Fragment,{children:g.map((e,s)=>(0,p.jsxs)("div",{className:"das-mobile-card border border-gray-300 rounded-2 p-3 mb-3 w-100",children:[(0,p.jsxs)("div",{className:"d-flex flex-row mb-2 gap-2",children:[(0,p.jsx)("span",{className:"das-mobile-card-label",children:"NO :"}),(0,p.jsx)("span",{className:"fw-bold",children:s+1})]}),(0,p.jsxs)("div",{className:"d-flex flex-row mb-2 gap-2",children:[(0,p.jsx)("span",{className:"das-mobile-card-label",children:"TYPE :"}),(0,p.jsx)("span",{children:e.type})]}),(0,p.jsxs)("div",{className:"d-flex flex-row mb-2 gap-2",children:[(0,p.jsx)("span",{className:"das-mobile-card-label",children:"TITLE :"}),(0,p.jsx)("span",{children:e.title})]}),(0,p.jsxs)("div",{className:"d-flex flex-row mb-2 gap-2",children:[(0,p.jsx)("span",{className:"das-mobile-card-label",children:"STATUS :"}),(0,p.jsx)("span",{children:(0,p.jsx)("span",{className:"post-live",children:"Live"})})]}),(0,p.jsx)("div",{className:"d-flex flex-row mb-2 gap-2",children:(0,p.jsx)("button",{className:"btn post-delete",onClick:()=>T(e),children:"Delete"})})]},s))})})]})})}}}]);
//# sourceMappingURL=1311.5a430678.chunk.js.map