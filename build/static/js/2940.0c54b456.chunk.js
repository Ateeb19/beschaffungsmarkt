"use strict";(self.webpackChunkbeschaffungsmarkt=self.webpackChunkbeschaffungsmarkt||[]).push([[2940],{2940:(e,a,t)=>{t.r(a),t.d(a,{default:()=>f});var s=t(9379),l=t(5043),n=t(8789),r=t(5394),c=t(2021),i=t(9981),o=t(7706),d=t(3003),m=t(502),u=t(9722),p=t(579);const x=e=>{let{accept:a,onFileDrop:t,label:r,className:c}=e;const i=(0,l.useCallback)(e=>{if(e.length>0){const a=e[0];t(a)}},[t]),{getRootProps:o,getInputProps:d,isDragActive:m}=(0,n.VB)({onDrop:i,accept:a,multiple:!1});return(0,p.jsxs)("div",(0,s.A)((0,s.A)({},o()),{},{className:"d-flex flex-column align-items-center justify-content-center text-center ".concat(c),children:[(0,p.jsx)("input",(0,s.A)({},d())),(0,p.jsx)("p",{children:r})]}))},f=()=>{const e="https://api.beschaffungsmarkt.com",a=(0,i.Zp)(),[t,s]=(0,l.useState)(!1),[n,f]=(0,l.useState)(null),[b,h]=(0,l.useState)(null),[g,j]=(0,l.useState)(""),[N,v]=(0,l.useState)(""),[w,y]=(0,l.useState)(""),[C,S]=(0,l.useState)(""),[k,P]=(0,l.useState)(""),{showAlert:_}=(0,o.M)(),E=(0,d.wA)(),F=(0,i.zy)(),{data:A,requestStatus:D,error:L}=(0,d.d4)(e=>e.user);(0,l.useEffect)(()=>{E((0,m.me)())},[E,F]),console.log("user data -: ",A),(0,l.useEffect)(()=>{A.contact_img?(f(A.contact_img||""),h(A.contact_img||""),s(!1)):(f(""),h("")),j(A.contact_first_name||""),v(A.contact_last_name||""),y(A.contact_position||""),S(A.contact_email||""),P(A.contact_phone_number||"")},[A,F]);const[z,G]=(0,l.useState)("");return(0,p.jsxs)("div",{className:"d-flex flex-column align-items-start justify-content-start w-100",children:[(0,p.jsx)("h5",{style:{fontWeight:"700"},children:"Contact Settings"}),(0,p.jsxs)("div",{className:"d-flex flex-column w-100 align-items-start justify-content-start text-start das-general-form mt-2",children:[(0,p.jsxs)("div",{className:"d-flex flex-column flex-md-row w-100 align-items-center justify-content-start text-start",children:[(0,p.jsx)("div",{className:"col-12 col-md-6 d-flex flex-column align-items-center justify-content-center",children:(0,p.jsx)("div",{className:"image-div-das-general-form d-flex flex-column align-items-center justify-content-center w-100",children:b?(0,p.jsxs)("div",{className:"d-flex flex-row align-item-end justify-content-end",children:[(0,p.jsx)("img",{src:t?b:"".concat(e,"/files/").concat(n),alt:"Selected",className:"rounded-circle border border-1 border-dark image-div-das-image"}),(0,p.jsx)(c.j55,{style:{cursor:"pointer",fontSize:"20px"},onClick:()=>{f(""),h(""),s(!0)}})]}):(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(x,{accept:"image/*",onFileDrop:e=>{s(!0),f(e),h(URL.createObjectURL(e))},className:"image-div-das-image-upload",label:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(r.LEk,{className:"fs-2 mb-3"})," ",(0,p.jsxs)("p",{children:[(0,p.jsx)("b",{children:"Click to upload"})," or drag and drop"]})," ",(0,p.jsx)("p",{style:{fontSize:"12px"},children:" SVG, PNG, JPG or WEBP"})]})})})})}),(0,p.jsxs)("div",{className:"col-12 col-md-6 mt-3 mt-md-0 d-flex flex-column align-items-start justify-content-center gap-3",children:[(0,p.jsxs)("div",{className:"w-100",children:[(0,p.jsx)("label",{for:"website",className:"das-form-label",children:"First Name"}),(0,p.jsx)("input",{type:"text",class:"form-control ".concat(z.firstName?"border-danger":""),onChange:e=>j(e.target.value),value:g,id:"Fax Number","aria-describedby":"website",name:"firstName",placeholder:"First Name"})]}),(0,p.jsxs)("div",{className:"w-100",children:[(0,p.jsx)("label",{for:"website",className:"das-form-label",children:"Last Name "}),(0,p.jsx)("input",{type:"text",class:"form-control ".concat(z.lastName?"border-danger":""),onChange:e=>v(e.target.value),value:N,id:"Website","aria-describedby":"website",name:"lastName",placeholder:"Last Name"})]}),(0,p.jsxs)("div",{className:"w-100",children:[(0,p.jsx)("label",{for:"website",className:"das-form-label",children:"Position"}),(0,p.jsx)("input",{type:"text",class:"form-control ".concat(z.position?"border-danger":""),onChange:e=>y(e.target.value),value:w,id:"HS Code","aria-describedby":"website",name:"position",placeholder:"ex: CEO, Export Manager"})]}),(0,p.jsxs)("div",{className:"w-100",children:[(0,p.jsx)("label",{for:"website",className:"das-form-label",children:"Email"}),(0,p.jsx)("input",{type:"text",class:"form-control ".concat("Please enter a valid email address."===z?"border-danger":""),onChange:e=>S(e.target.value),value:C,id:"Founded Year","aria-describedby":"website",name:"email",placeholder:"Email"}),"Please enter a valid email address."===z&&(0,p.jsx)("small",{className:"text-danger",children:z})]}),(0,p.jsxs)("div",{className:"w-100",children:[(0,p.jsx)("label",{for:"website",className:"das-form-label",children:"Phone Number"}),(0,p.jsx)("input",{type:"text",class:"form-control ".concat("Please enter a valid phone number."===z?"border-danger":""),onChange:e=>P(e.target.value),value:k,id:"website","aria-describedby":"website",name:"phoneNumber",placeholder:"ex: +49 91 51201 9038, +90 242 809 1696"}),"Please enter a valid phone number."===z&&(0,p.jsx)("small",{className:"text-danger",children:z})]})]})]}),(0,p.jsxs)("div",{className:"d-flex flex-row align-items-end justify-content-end mt-3 w-100 gap-3",children:[(0,p.jsx)("button",{className:"das-button-end save-button",onClick:async s=>{s.preventDefault();const l=new FormData;l.append("firstName",g),l.append("lastName",N),l.append("position",w),l.append("email",C),l.append("phoneNumber",k),t&&(n?l.append("avatarImg",n):l.append("avatarImg","false"));try{const t=await u.A.post("".concat(e,"/api/users/update-company-contact-info"),l,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});_(t.data.msg,"success"),a("/dashboard")}catch(r){G(r.response.data.msg),console.log("Error:",r)}},children:"Save"}),(0,p.jsx)("button",{className:"das-button-end cancel-button",onClick:()=>{f(""),j(""),v(""),y(""),S(""),P(""),a("/dashboard/home")},children:"Cancel"})]})]})]})}}}]);
//# sourceMappingURL=2940.0c54b456.chunk.js.map