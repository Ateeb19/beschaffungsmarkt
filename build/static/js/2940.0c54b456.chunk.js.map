{"version":3,"file":"static/js/2940.0c54b456.chunk.js","mappings":"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","sources":["Components/Dashboard/Company/Das_co_contact.js"],"sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\nimport { useDropzone } from \"react-dropzone\";\nimport { IoCloudUploadOutline } from \"react-icons/io5\";\nimport { RxCross2 } from \"react-icons/rx\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { useAlert } from \"../../alert/Alert_message\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchUserInfo } from \"../../../redux/userSlice\";\nimport axios from \"axios\";\n\n\n\nconst DragAndDrop = ({ accept, onFileDrop, label, className }) => {\n    const onDrop = useCallback(\n        (acceptedFiles) => {\n            if (acceptedFiles.length > 0) {\n                const file = acceptedFiles[0];\n                onFileDrop(file);\n            }\n        },\n        [onFileDrop]\n    );\n\n    const { getRootProps, getInputProps, isDragActive } = useDropzone({\n        onDrop,\n        accept,\n        multiple: false,\n    });\n\n    return (\n        <div\n            {...getRootProps()}\n            className={`d-flex flex-column align-items-center justify-content-center text-center ${className}`}\n        >\n            <input {...getInputProps()} />\n            <p>{label}</p>\n        </div>\n    );\n};\n\nconst Das_co_contact = () => {\n    const Backend_URL = process.env.REACT_APP_API_URL;\n    const navigate = useNavigate();\n\n    const [image_changed, setImage_changed] = useState(false);\n    const [selectedFile, setSelectedFile] = useState(null);\n    const [selectedImage, setSelectedImage] = useState(null);\n\n    const handleFileDrop = (file) => {\n        setImage_changed(true);\n        setSelectedFile(file);\n        setSelectedImage(URL.createObjectURL(file));\n    };\n\n    const [first_name, setFirst_name] = useState('');\n    const [last_name, setLast_name] = useState('');\n    const [position, setPosition] = useState('');\n    const [email, setEmail] = useState('');\n    const [phno, setPhno] = useState('');\n\n    const { showAlert } = useAlert();\n    const dispatch = useDispatch();\n    const location = useLocation();\n    const { data, requestStatus, error } = useSelector((state) => state.user);\n    useEffect(() => {\n        dispatch(fetchUserInfo());\n    }, [dispatch, location]);\n\n    console.log('user data -: ', data);\n\n\n    useEffect(() => {\n        if (data.contact_img) {\n            setSelectedFile(data.contact_img || '');\n            setSelectedImage(data.contact_img || '');\n            setImage_changed(false);\n        }else{\n            setSelectedFile('');\n            setSelectedImage('');\n        }\n        setFirst_name(data.contact_first_name || '');\n        setLast_name(data.contact_last_name || '');\n        setPosition(data.contact_position || '');\n        setEmail(data.contact_email || '');\n        setPhno(data.contact_phone_number || '');\n    }, [data, location])\n\n    const [errors, setErrors] = useState('');\n\n    const handle_save = async (event) => {\n        event.preventDefault();\n        const formData = new FormData();\n\n        formData.append(\"firstName\", first_name);\n        formData.append(\"lastName\", last_name);\n        formData.append(\"position\", position);\n        formData.append(\"email\", email);\n        formData.append(\"phoneNumber\", phno);\n\n        if (image_changed) {\n            if (selectedFile) {\n                formData.append(\"avatarImg\", selectedFile);\n            } else {\n                formData.append(\"avatarImg\", \"false\");\n            }\n        }\n        try {\n            const response = await axios.post(`${Backend_URL}/api/users/update-company-contact-info`, formData, {\n                headers: {\n                    \"Content-Type\": \"multipart/form-data\",\n                },\n                withCredentials: true,\n            });\n\n            showAlert(response.data.msg, \"success\")\n            navigate('/dashboard')\n            // console.log(\"Contact Info updated successfully\");\n        } catch (err) {\n            setErrors(err.response.data.msg)\n            // const errorData = err.response.data;\n            // setErrors({});\n            // if (errorData) {\n            //     const newErrors = {};\n            //     for (const key in errorData) {\n            //         if (errorData[key]) {\n            //             newErrors[key] = errorData[key];\n            //         }\n            //     }\n            //     setErrors(newErrors);\n            // }\n            console.log(\"Error:\", err);\n        }\n\n    }\n\n    const handle_cancel = () => {\n        setSelectedFile('');\n        setFirst_name('');\n        setLast_name('');\n        setPosition('');\n        setEmail('');\n        setPhno('');\n        navigate('/dashboard/home')\n    }\n\n    return (\n        <div className=\"d-flex flex-column align-items-start justify-content-start w-100\">\n            <h5 style={{ fontWeight: '700' }}>Contact Settings</h5>\n            <div className=\"d-flex flex-column w-100 align-items-start justify-content-start text-start das-general-form mt-2\">\n                <div className=\"d-flex flex-column flex-md-row w-100 align-items-center justify-content-start text-start\">\n                    <div className=\"col-12 col-md-6 d-flex flex-column align-items-center justify-content-center\">\n                        <div className=\"image-div-das-general-form d-flex flex-column align-items-center justify-content-center w-100\">\n                            {selectedImage ? (\n                                <div className=\"d-flex flex-row align-item-end justify-content-end\">\n\n                                    <img\n                                        src={!image_changed ? `${Backend_URL}/files/${selectedFile}` : selectedImage}\n                                        // src={!image_changed ? `http://localhost:5001/files/${selectedFile}` : selectedImage}\n                                        // src={selectedImage}\n                                        alt=\"Selected\"\n                                        className=\"rounded-circle border border-1 border-dark image-div-das-image\"\n                                    />\n                                    <RxCross2 style={{ cursor: 'pointer', fontSize: '20px' }} onClick={() => { setSelectedFile(''); setSelectedImage(''); setImage_changed(true) }} />\n                                </div>\n                            ) : (\n                                <>\n                                    <DragAndDrop\n                                        accept=\"image/*\"\n                                        onFileDrop={handleFileDrop}\n                                        className=\"image-div-das-image-upload\"\n                                        label={\n                                            <>\n                                                <IoCloudUploadOutline className=\"fs-2 mb-3\" /> <p><b>Click to upload</b> or drag and drop</p> <p style={{ fontSize: '12px' }}> SVG, PNG, JPG or WEBP</p>\n                                            </>\n                                        } />\n                                </>\n                            )}\n                        </div>\n                    </div>\n\n                    <div className=\"col-12 col-md-6 mt-3 mt-md-0 d-flex flex-column align-items-start justify-content-center gap-3\">\n\n                        <div className=\"w-100\">\n                            <label for=\"website\" className=\"das-form-label\">First Name</label>\n                            <input type=\"text\" class={`form-control ${errors.firstName ? 'border-danger' : ''}`} onChange={(e) => setFirst_name(e.target.value)} value={first_name} id=\"Fax Number\" aria-describedby=\"website\" name=\"firstName\" placeholder=\"First Name\"></input>\n                        </div>\n\n                        <div className=\"w-100\">\n                            <label for=\"website\" className=\"das-form-label\">Last Name </label>\n                            <input type=\"text\" class={`form-control ${errors.lastName ? 'border-danger' : ''}`} onChange={(e) => setLast_name(e.target.value)} value={last_name} id=\"Website\" aria-describedby=\"website\" name=\"lastName\" placeholder=\"Last Name\"></input>\n                        </div>\n\n                        <div className=\"w-100\">\n                            <label for=\"website\" className=\"das-form-label\">Position</label>\n                            <input type=\"text\" class={`form-control ${errors.position ? 'border-danger' : ''}`} onChange={(e) => setPosition(e.target.value)} value={position} id=\"HS Code\" aria-describedby=\"website\" name=\"position\" placeholder=\"ex: CEO, Export Manager\"></input>\n                        </div>\n\n                        <div className=\"w-100\">\n                            <label for=\"website\" className=\"das-form-label\">Email</label>\n                            <input type=\"text\" class={`form-control ${errors === 'Please enter a valid email address.' ? 'border-danger' : ''}`} onChange={(e) => setEmail(e.target.value)} value={email} id=\"Founded Year\" aria-describedby=\"website\" name=\"email\" placeholder=\"Email\"></input>\n                            {errors === 'Please enter a valid email address.' && <small className=\"text-danger\">{errors}</small>}\n                        </div>\n\n                        <div className=\"w-100\">\n                            <label for=\"website\" className=\"das-form-label\">Phone Number</label>\n                            <input type=\"text\" class={`form-control ${errors === 'Please enter a valid phone number.' ? 'border-danger' : ''}`} onChange={(e) => setPhno(e.target.value)} value={phno} id=\"website\" aria-describedby=\"website\" name=\"phoneNumber\" placeholder=\"ex: +49 91 51201 9038, +90 242 809 1696\"></input>\n                            {errors === 'Please enter a valid phone number.' && <small className=\"text-danger\">{errors}</small>}\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"d-flex flex-row align-items-end justify-content-end mt-3 w-100 gap-3\">\n                    <button className=\"das-button-end save-button\" onClick={handle_save}>Save</button>\n                    <button className=\"das-button-end cancel-button\" onClick={handle_cancel}>Cancel</button>\n                </div>\n            </div>\n        </div >\n    )\n}\n\nexport default Das_co_contact;"],"names":["DragAndDrop","_ref","accept","onFileDrop","label","className","onDrop","useCallback","acceptedFiles","length","file","getRootProps","getInputProps","isDragActive","useDropzone","multiple","_jsxs","_objectSpread","concat","children","_jsx","Das_co_contact","Backend_URL","process","navigate","useNavigate","image_changed","setImage_changed","useState","selectedFile","setSelectedFile","selectedImage","setSelectedImage","first_name","setFirst_name","last_name","setLast_name","position","setPosition","email","setEmail","phno","setPhno","showAlert","useAlert","dispatch","useDispatch","location","useLocation","data","requestStatus","error","useSelector","state","user","useEffect","fetchUserInfo","console","log","contact_img","contact_first_name","contact_last_name","contact_position","contact_email","contact_phone_number","errors","setErrors","style","fontWeight","src","alt","RxCross2","cursor","fontSize","onClick","_Fragment","URL","createObjectURL","IoCloudUploadOutline","for","type","class","firstName","onChange","e","target","value","id","name","placeholder","lastName","async","event","preventDefault","formData","FormData","append","response","axios","post","headers","withCredentials","msg","err","handle_cancel"],"sourceRoot":""}